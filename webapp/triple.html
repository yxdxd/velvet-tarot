<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Velvet Tarot</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  background: radial-gradient(circle at top, #1e1440, #0d0922 70%);
  color: white;
  text-align: center;
}

.container {
  padding: 30px 20px;
}

h2 {
  margin-bottom: 40px;
}

.cards {
  display: flex;
  justify-content: center;
  gap: 18px;
}

.card {
  width: 110px;
  height: 170px;
  perspective: 1000px;
}

.inner {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.8s;
}

.card.flipped .inner {
  transform: rotateY(180deg);
}

.front, .back {
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 14px;
  backface-visibility: hidden;
}

.front {
  background: linear-gradient(135deg, #6f5cff, #3d2cb5);
}

.back {
  transform: rotateY(180deg);
  overflow: hidden;
}

.back img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.label {
  margin-top: 8px;
  font-size: 13px;
  opacity: 0.8;
}

button {
  margin-top: 40px;
  padding: 14px 26px;
  border-radius: 14px;
  border: none;
  background: linear-gradient(135deg, #7b5cff, #5a3cff);
  color: white;
  font-size: 15px;
  cursor: pointer;
}
</style>
</head>

<body>

<div class="container">
  <h2>üÉè –¢–≤–æ–π —Ä–∞—Å–∫–ª–∞–¥</h2>

  <div class="cards">
    <div class="card" id="card0">
      <div class="inner">
        <div class="front"></div>
        <div class="back"><img id="img0"></div>
      </div>
      <div class="label">–ü—Ä–æ—à–ª–æ–µ</div>
    </div>

    <div class="card" id="card1">
      <div class="inner">
        <div class="front"></div>
        <div class="back"><img id="img1"></div>
      </div>
      <div class="label">–ù–∞—Å—Ç–æ—è—â–µ–µ</div>
    </div>

    <div class="card" id="card2">
      <div class="inner">
        <div class="front"></div>
        <div class="back"><img id="img2"></div>
      </div>
      <div class="label">–ë—É–¥—É—â–µ–µ</div>
    </div>
  </div>

  <button onclick="location.href='/'">–ù–∞–∑–∞–¥</button>
</div>

<script>
Telegram.WebApp.expand();

fetch("https://velvet-tarot.onrender.com/draw-spread")
.then(res => res.json())
.then(data => {
  data.forEach((card, index) => {
    setTimeout(() => {
      document.getElementById("img"+index).src =
        "https://velvet-tarot.onrender.com" + card.image;
      document.getElementById("card"+index).classList.add("flipped");
    }, index * 800);
  });
});
</script>

</body>
</html>